
 <!DOCTYPE html>
 <html lang="tr">


<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="Bu bölümde içerik işlemcileri konusunu inceleyeceğiz." name="description" />
<meta content="python, python3, django, içerik işlemcileri" name="keywords" />

    <title>İçerik İşlemcileri</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/epub.css" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>
<div class='header'><a href='https://yazbel.com'><img src="../../_static/logo.png"></a></div>

<ul class='navbar'>
    <li class="forum"><a href="http://forum.yazbel.com">forum</a></li>
    <li><a href="#"><del>pdf</a></li>
    <li><a href="#"><del>epub</a></li>
    <li><a href="#"><del>html</a></li>
</ul>



    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            

  <section id="icerik-islemcileri">
<h1>İçerik İşlemcileri</h1>
<section id="icerik-islemcileri-nedir">
<h2>İçerik İşlemcileri Nedir</h2>
<p>Dilden bağımsız olarak yazdığımız her uygulama DRY (Don’t Repeat Yourself, Kendini Tekrar Etme) ilkesine sahip olmalıdır.
Bu sayede yazılan kodların okunabilirliği daha yüksek, fazlalıkları ve karmaşıklıkları daha az olur.</p>
<p>Django yazılım iskeletinde içerik işlemcileri bu işe yarar. Bir kere tanımlanan değişken o proje içinde
oluşturulan tüm uygulamalarda kullanılabilir.</p>
<p>Oluşturduğumuz her içerik işlemcisi bir <cite>anahtar(lar)-değer(ler)</cite> şeklinde dönmelidir. Bu değer tipi Python dilinin
sahip olduğu veri tipi olan <cite>sözlük</cite>tür.</p>
</section>
<section id="icerik-islemcileri-nasil-olusturulur">
<h2>İçerik İşlemcileri Nasıl Oluşturulur?</h2>
<p>Öncelikle bir Django projesi ve projemiz için bir uygulama oluşturuyoruz. Oluşturduğumuz uygulamanın içine <cite>context_processors.py</cite>
isimli bir dosya oluşturuyoruz. Bundan sonra oluşturduğumuz tüm içerik işleyicilerini bu dosya altında toplayacağız. Son olarak oluşturduğumuz <cite>context_processors.py</cite> dosyasını
<cite>settings.py</cite> dosyasının altında projemize bildirmemiz gerekir. Bunun için <cite>settings.py</cite> dosyasını açıp</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">{</span>
    <span class="s1">&#39;BACKEND&#39;</span><span class="p">:</span> <span class="s1">&#39;django.template.backends.django.DjangoTemplates&#39;</span><span class="p">,</span>
    <span class="s1">&#39;DIRS&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s1">&#39;templates&#39;</span><span class="p">)]</span>
    <span class="p">,</span>
    <span class="s1">&#39;APP_DIRS&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s1">&#39;OPTIONS&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;context_processors&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s1">&#39;django.template.context_processors.debug&#39;</span><span class="p">,</span>
            <span class="s1">&#39;django.template.context_processors.request&#39;</span><span class="p">,</span>
            <span class="s1">&#39;django.contrib.auth.context_processors.auth&#39;</span><span class="p">,</span>
            <span class="s1">&#39;django.contrib.messages.context_processors.messages&#39;</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">},</span>
<span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p>bu kısmı buluyoruz. Ardından kendi oluşturacağımız içerik işleyicilerini diğerlerinin yanına ekliyoruz. Bu ekleme sırasında sözdizimi önemlidir ve bu şekilde olmalıdır.
<cite>uygulama_adi.içerik_işlemcisi_dosya_adi.içerik_işlemcisi_adi</cite>
Yeni hali aşağıdaki gibi olmalı.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">{</span>
    <span class="s1">&#39;BACKEND&#39;</span><span class="p">:</span> <span class="s1">&#39;django.template.backends.django.DjangoTemplates&#39;</span><span class="p">,</span>
    <span class="s1">&#39;DIRS&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s1">&#39;templates&#39;</span><span class="p">)]</span>
    <span class="p">,</span>
    <span class="s1">&#39;APP_DIRS&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s1">&#39;OPTIONS&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;context_processors&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s1">&#39;django.template.context_processors.debug&#39;</span><span class="p">,</span>
            <span class="s1">&#39;django.template.context_processors.request&#39;</span><span class="p">,</span>
            <span class="s1">&#39;django.contrib.auth.context_processors.auth&#39;</span><span class="p">,</span>
            <span class="s1">&#39;django.contrib.messages.context_processors.messages&#39;</span><span class="p">,</span>
            <span class="s1">&#39;deneme.context_processors.ilk_islec&#39;</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">},</span>
<span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p>İlk işlecimiz basit olması amacıyla isim ve ülke döndürsün. Bunun için <cite>context_processors.py</cite> ve ilk işlecimizi yazalım. Yazacağımız işleçler fonksiyon şeklinde olmalıdır ve bu fonksiyon <cite>request</cite> parametresini dışarıdan almalıdır.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ilk_islec</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">isim</span> <span class="o">=</span> <span class="s2">&quot;Mehmet&quot;</span>
    <span class="n">ulke</span> <span class="o">=</span> <span class="s2">&quot;Türkiye&quot;</span>

    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;isim&#39;</span><span class="p">:</span> <span class="n">isim</span><span class="p">,</span> <span class="s1">&#39;ulke&#39;</span><span class="p">:</span> <span class="n">ulke</span><span class="p">}</span>
</pre></div>
</div>
<p>Bu şekilde ilk işlecimizi yazdık şimdi <cite>isim</cite> ve <cite>ulke</cite> adında iki tane anahtar değer döndürdük. Bu değerleri istediğimiz HTML sayfasında kullanabiliriz.
Denemek için <cite>templates</cite> klasörü altında <cite>index.html</cite> oluşturalım ardından HTML dosyasmıza aşağıdaki kodu yazalım.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Django - İçerik İşlemcileri&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;p&gt;Merhaba, benim adım {{ isim }} ve şu an bu ülkedeyim: {{ ulke }} &lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre></div>
</div>
<p>HTML sayfasımızı oluşturduktan
sonra view oluşturacağız. Bunun için oluşturduğumuz uygulamanın alt dizininde bulunan <cite>views.py</cite> dosyasına</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>

<span class="k">def</span> <span class="nf">view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;index.html&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Şeklinde basit bir view fonksiyonu ekleyelim. Son olarak <cite>urls.py</cite> dosyasına yazdığımız view için URL yolu ekleyeceğiz.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span> <span class="nn">deneme.views</span> <span class="kn">import</span> <span class="n">view</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">view</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Tüm yapacağımız bu kadar! Artık tarayıcıda oluşturduğumuz sayfayı çalıştırınca anahtarlarımızın yerinde değişkenlerimiz var.</p>
</section>
<section id="icerik-islemcileri-nerelerde-kullanilabilir">
<h2>İçerik İşlemcileri Nerelerde Kullanılabilir?</h2>
<p>Django ile proje geliştirirken kullanıcının tarayıcıda göreceği HTML kısımlarını ortak olan kısımlarını tek bir noktadan
çekebiliriz. Böylece ortak bir blok değiştiği zaman tüm sayfaları tekrar düzeltmeye gerek kalmaz. Bunu yapmak için oluşturduğumuz tüm view’lere
ana tema blogumuzu, tüm sayfalarda ortak olan diğer blok parçalarının yollarını içerik işlecinde tanımlayabiliriz.</p>
<p>İçerik İşlemcimiz:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">template_path</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="n">base_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
<span class="n">components_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="s1">&#39;templates/components/&#39;</span><span class="p">)</span>
<span class="n">base_component</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">components_dir</span><span class="p">,</span> <span class="s1">&#39;base_components/base.html&#39;</span><span class="p">)</span>
<span class="n">common_components</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">components_dir</span><span class="p">,</span> <span class="s1">&#39;common_components/&#39;</span><span class="p">)</span>
<span class="n">archive</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">common_components</span><span class="p">,</span> <span class="s1">&#39;archive.html&#39;</span><span class="p">)</span>
<span class="n">quick_links</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">common_components</span><span class="p">,</span> <span class="s1">&#39;quick_links.html&#39;</span><span class="p">)</span>
<span class="n">search_not_found</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">common_components</span><span class="p">,</span> <span class="s1">&#39;search_not_found.html&#39;</span><span class="p">)</span>
<span class="n">social_account</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">common_components</span><span class="p">,</span> <span class="s1">&#39;social_account.html&#39;</span><span class="p">)</span>
<span class="n">tag_cloud</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">common_components</span><span class="p">,</span> <span class="s1">&#39;tag_cloud.html&#39;</span><span class="p">)</span>
<span class="n">blockquote</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">common_components</span><span class="p">,</span> <span class="s1">&#39;blockquote.html&#39;</span><span class="p">)</span>

<span class="k">return</span> <span class="p">{</span><span class="s1">&#39;base_components&#39;</span><span class="p">:</span> <span class="n">base_component</span><span class="p">,</span> <span class="s1">&#39;archive&#39;</span><span class="p">:</span> <span class="n">archive</span><span class="p">,</span> <span class="s1">&#39;quick_links&#39;</span><span class="p">:</span> <span class="n">quick_links</span><span class="p">,</span>
        <span class="s1">&#39;search_not_found&#39;</span><span class="p">:</span> <span class="n">search_not_found</span><span class="p">,</span> <span class="s1">&#39;social_account&#39;</span><span class="p">:</span> <span class="n">social_account</span><span class="p">,</span> <span class="s1">&#39;tag_cloud&#39;</span><span class="p">:</span> <span class="n">tag_cloud</span><span class="p">,</span>
        <span class="s1">&#39;blockquote&#39;</span><span class="p">:</span> <span class="n">blockquote</span><span class="p">}</span>
</pre></div>
</div>
<p>HTML Sayfamız:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span>{% extends base_components %}
{% block title %}İletişime Geç {% endblock %}
{% block s_content %}
    &lt;!-- s-content
    ================================================== --&gt;
    &lt;section class=&quot;s-content s-content--narrow&quot;&gt;
        &lt;div class=&quot;row&quot;&gt;
            &lt;div class=&quot;s-content__header col-full&quot;&gt;
                &lt;h1 class=&quot;s-content__header-title&quot;&gt;
                    İletişime Geç &lt;/h1&gt;
            &lt;/div&gt; &lt;!-- end s-content__header --&gt;
            &lt;div class=&quot;col-full s-content__main&quot;&gt;
                &lt;h3&gt;Merhaba De :)&lt;/h3&gt;
                &lt;p class=&quot;lead&quot;&gt;Sosyal medya hesapları üzerinden bana ulaşabilirsin. &lt;/p&gt;
                &lt;ul class=&quot;s-content__author-social&quot; style=&quot;display: flex; justify-content: center&quot;&gt;
                    {% for i in social %}
                        &lt;li&gt;
                            &lt;a href=&quot;{{ i.sm_url }}&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;{{ i.sm_icon_class }}&quot;
                                                                        style=&quot;font-size: 48px&quot;
                                                                        aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/a&gt;
                        &lt;/li&gt;
                    {% endfor %}
                &lt;/ul&gt;
            &lt;/div&gt; &lt;!-- end s-content__main --&gt;
        &lt;/div&gt; &lt;!-- end row --&gt;
    &lt;/section&gt; &lt;!-- s-content --&gt;
    &lt;{% endblock %}
</pre></div>
</div>
<p>Örnek HTML sayfamızda <cite>{% extends base_components %}</cite> ile <cite>base_components</cite> değişkenini içerik işlemcisinde tanımlamıştık, bu sayede bir daha
dosya adresini yazmamıza gerek kalmaz. Bunun yerine her view’de dosya yolunu yazabilirdik ancak dosyamızın yolu değişirse tüm view fonksiyonlarında
dosya yolunu değiştirmek zorunda kalacaktık.</p>
<p>Genel olarak kullanım şekli böyle oluyor.</p>
<p>Bu makale için hazırladığım koda <a class="reference external" href="https://github.com/mehmetkiran/context_processors_django">bu adres</a><span class="link-target"> [https://github.com/mehmetkiran/context_processors_django]</span>  üzerinden ulaşabilir, bu kodu detaylı olarak inceleyebilirsiniz.</p>
</section>
</section>



<div class='glyph'><a href='https://yazbel.com'>&#x2663;</a></div>
<div class='extrarelbar'> 
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Gezinti</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.xhtml" title="Genel Dizin"
             accesskey="I">dizin</a></li>
        <li class="right" >
          <a href="django_6.xhtml" title="Django ile reCAPTCHA Kullanımı"
             accesskey="N">sonraki</a> |</li>
        <li class="right" >
          <a href="django_4.xhtml" title="İLK DJANGO PROJENİ YAZ, part 4"
             accesskey="P">önceki</a> |</li>
<li class="nav-item nav-item-0"><a href=".">&#x2302;</a></li>

          <li class="nav-item nav-item-1"><a href="../index.xhtml" >Üçüncü Taraf Modüller</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.xhtml" accesskey="U">django Paketi</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">İçerik İşlemcileri</a></li> 
      </ul>
    </div> </div>

<div class='addcomment'>Yorumlar</div>

<div class='how-to-use'>
<h3>Önemli Not</h3>
Eğer yazdığınız yorum içinde kod kullanacaksanız kodlarınızı
<span class='tag'>&lt;pre&gt;&lt;code&gt;</span> etiketleri içine alın. Örneğin:

<pre>
    <span class='tag'>&lt;pre&gt;&lt;code class="python"&gt;</span>
    <span class='keyword'>print</span>(<span class='string'>"Merhaba Dünya!"</span>)
    <span class='tag'>&lt;/code&gt;&lt;/pre&gt;</span>
</pre>

Sorularınızı yorumlarda dile getirmek yerine <a href="https://forum.yazbel.com/">Yazbel Forumu</a>nda sorarsanız çok daha hızlı cevap alabilirsiniz.
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'istihza';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

<noscript>
<br>
<a href="https://disqus.com/?ref_noscript" rel="nofollow">Disqus tarafından sağlanan yorumları</a> görmek için lütfen JavasScript'i etkinleştirin.
<br>
Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4eca48eb2d83faf9" async="async"></script>



            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div> 
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Gezinti</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.xhtml" title="Genel Dizin"
             >dizin</a></li>
        <li class="right" >
          <a href="django_6.xhtml" title="Django ile reCAPTCHA Kullanımı"
             >sonraki</a> |</li>
        <li class="right" >
          <a href="django_4.xhtml" title="İLK DJANGO PROJENİ YAZ, part 4"
             >önceki</a> |</li>
<li class="nav-item nav-item-0"><a href=".">&#x2302;</a></li>

          <li class="nav-item nav-item-1"><a href="../index.xhtml" >Üçüncü Taraf Modüller</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.xhtml" >django Paketi</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">İçerik İşlemcileri</a></li> 
      </ul>
    </div> 

<div class="footer">
		&copy; Copyright 2021, Yazbel Belgelendirme Projesi | <a href="https://yazbel.com">yazbel.com</a>.
Son güncelleme: 03.10.2021.
	<a href="http://sphinx-doc.org/">Sphinx</a> 4.2.0 kullanılarak oluşturuldu.
<br>
<br>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img
alt="Creative Commons License" style="border-width:0"
src="https://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a>
<br>
<br>
</div>
<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=10396326;
var sc_invisible=1;
var sc_security="fb5cd679";
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="hit counter"
href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="http://c.statcounter.com/10396326/0/fb5cd679/1/"
alt="hit counter"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->

  </body>
</html>